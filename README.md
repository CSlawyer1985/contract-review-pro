# Contract Review Pro 🏛️

> **专业合同审核AI系统** - 融合三观四步法方法论与智能风险评估

[![Version](https://img.shields.io/badge/version-1.2.0-blue.svg)](https://github.com/your-repo/contract-review-pro)
[![Python](https://img.shields.io/badge/python-3.9+-green.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-orange.svg)](LICENSE)
[![Code](https://img.shields.io/badge/code--2700lines-brightgreen.svg)]()

---

## 📖 简介

**Contract Review Pro** 是一款基于三观四步法等专业方法论构建的智能合同审核系统。它融合了商业思维、法律专业性和实务经验,为律师、企业法务和业务人员提供全面、专业、高效的合同审核服务。

### ✨ 核心特性

- 🎯 **30种合同类型** - 覆盖买卖、租赁、借款、建设工程、股权转让等常见合同
- 📊 **123个风险点模板** - 精准识别致命、重要、一般、轻微四级风险
- 🔬 **三观四步法** - 宏观+中观+三维度,理解→设计→起草→审查四步流程
- 🧠 **智能风险评分** - 多维度综合评分(0-100),量化合同风险
- 🚀 **三种审核模式** - 快速(5-10分钟)、标准(30-60分钟)、深度(1-2小时)
- 📝 **专业意见书** - 自动生成符合律师标准的法律审核意见书

---

## 🎯 适用场景

### 👨‍💼 律师使用场景

- ✅ **应急审查** - 快速初步审查,识别重大风险(5-10分钟)
- ✅ **重点分析** - 标准审核,全面风险评估(30-60分钟)
- ✅ **深度尽调** - 重大交易,三观四步法完整分析(1-2小时)

### 🏢 企业法务使用场景

- ✅ **日常审核** - 标准化审核流程,风险控制
- ✅ **质量监控** - 统一审核标准,保证审核质量
- ✅ **培训工具** - 新人培训,建立审核规范

### 📚 学习与培训

- ✅ **法学院学生** - 学习合同审核方法和技巧
- ✅ **律师实习** - 熟悉合同审核实务
- ✅ **企业培训** - 提升法务团队专业能力

---

## 🚀 快速开始

### 安装依赖

```bash
cd /Users/CS/Trae/Claude/.trae/skills/contract-review-pro

# 基础依赖
pip install pandas python-docx jieba

# 可选: NLP增强功能 (推荐)
pip install hanlp
```

### 基础使用

#### 1️⃣ 查询合同类型指引

```python
from main import quick_query

# 查询买卖合同的审核要点
result = quick_query('买卖合同')

print(f"合同类型: {result['contract_type']}")
print(f"核心风险: {result['core_risks']}")
print(f"关键条款: {result['key_clauses']}")
print(f"风险点数量: {len(result['risks'])}")
```

#### 2️⃣ 基础审核合同

```python
from main import quick_review

contract_text = """
买卖合同

甲方：A公司
乙方：B公司

第一条 标的物
本合同标的物为XXX产品,规格XXX,数量100台。

第二条 价款
总价款人民币100万元(含税)。

第三条 违约责任
违约方应支付违约金人民币10万元。
"""

user_context = {
    'party': '甲方',          # 代表方
    'position': '平等',       # 市场地位: 强势/平等/弱势
    'history': '无',          # 过往交易
    'focus': '付款安全'       # 关注点
}

result = quick_review(
    contract_text=contract_text,
    contract_name='A公司B公司买卖合同',
    user_context=user_context,
    review_depth='standard'    # quick / standard / deep
)

print(f"识别类型: {result['analysis_result']['identified_type']}")
print(f"发现风险: {result['risk_report']['total_risks']}个")
print(f"法律意见书: {result['opinion_file']}")
```

#### 3️⃣ 深度审核(V1.2新功能,推荐) ⭐

```python
from main import advanced_review

# 三观四步法深度审核
result, opinion_file = advanced_review(
    contract_text=contract_text,
    contract_name='重要买卖合同',
    user_context=user_context,
    review_depth='standard'
)

# 查看智能评分
scoring = result['intelligent_scoring']
print(f"综合评分: {scoring['comprehensive_score']}/100")
print(f"风险等级: {scoring['risk_level']}")

print(f"\n各维度评分:")
for dim, score in scoring['dimension_scores'].items():
    print(f"  {dim}: {score}")

print(f"\n深度意见书: {opinion_file}")
```

---

## 📊 系统架构

### 核心模块

```
contract-review-pro/
├── main.py                          # 主入口(545行)
├── scripts/
│   ├── review_config.py             # 审核配置(134行)
│   ├── contract_analyzer.py          # 合同分析器(456行)
│   ├── risk_assessment.py            # 风险评估器(127行)
│   ├── clause_review.py              # 条款审核器(93行)
│   ├── document_generator.py         # 文档生成器(195行)
│   ├── sanguan_analysis.py          # 三观四步法分析(500行) ⭐V1.2
│   └── intelligent_scoring.py        # 智能评分系统(355行) ⭐V1.2
├── data/
│   ├── contract_types.csv            # 30种合同类型
│   ├── risk_templates.csv            # 123个风险点
│   ├── clause_standards.csv          # 18类标准条款
│   └── review_checklists.csv         # 53项检查清单
└── output/
    ├── opinions/                     # 法律审核意见书
    └── annotated_contracts/          # 批注版合同
```

### 数据统计

| 数据文件 | 内容 | 数量 |
|---------|------|------|
| contract_types.csv | 合同类型、核心风险、关键条款、法律依据 | 30种 |
| risk_templates.csv | 风险编号、类型、描述、法律依据、修改建议 | 123个 |
| clause_standards.csv | 标准条款模板、关键要素、审核要点 | 18类 |
| review_checklists.csv | 宏观/中观/微观三层检查清单 | 53项 |

---

## 🎯 三观四步法方法论

### 理论基础

基于以下专业著作整合:

1. **《合同起草审查指南:三观四步法》** - 何力、常金光 著 ⭐
2. **《无讼合同审查核心能力13讲》**
3. **《合同审核方法论体系》** - 完整版

### 三观(三个层面)

#### 1️⃣ 宏观层面 - 交易结构
**核心问题**: 这个交易应该怎么做?
- ✅ 交易类型选择
- ✅ 交易路径设计
- ✅ 交易主体确定
- ✅ 交易时序规划
- ✅ 风险分散布局

#### 2️⃣ 中观层面 - 合同形式
**核心问题**: 这个合同应该包含哪些条款?
- ✅ 合同类型确定
- ✅ 合同体例设计
- ✅ 条款完整性检查
- ✅ 权利义务平衡性

#### 3️⃣ 微观层面 - 合同条款
**核心问题**: 这个条款应该怎么写?
- ✅ 语言表达精准性
- ✅ 逻辑结构一致性
- ✅ 形式规范性

### 四步(四个步骤)

```
理解交易 → 设计结构 → 起草合同 → 审查完善
  (宏观)    (宏观)      (中观)      (微观)
```

---

## 🔬 三维审查法

### 维度一: 商业维度 💼
**核心问题**: 这笔交易从商业上是否合理?
- ✅ 理解交易本质
- ✅ 识别商业风险
- ✅ 评估商业合理性

### 维度二: 法律维度 ⚖️
**核心问题**: 从法律上是否有效、完整?
- ✅ 合法性审查
- ✅ 有效性审查
- ✅ 权利义务平衡性

### 维度三: 实务维度 🔧
**核心问题**: 在实践中是否可执行、可操作?
- ✅ 可执行性
- ✅ 可操作性
- ✅ 争议预防

---

## 📈 智能风险评分系统

### 评分机制

**综合评分公式**:
```
综合评分 = 商业维度(30%) + 法律维度(40%) + 务实维度(30%)
```

### 风险等级

| 评分范围 | 风险等级 | 建议 |
|---------|---------|------|
| ≥80分 | 高风险 | 必须修改关键条款 |
| 60-79分 | 中等风险 | 建议优化重要条款 |
| 40-59分 | 低风险 | 可考虑完善一般条款 |
| <40分 | 极低风险 | 可直接签署 |

---

## 📋 支持的合同类型 (30种)

### 物权类合同 (4种)
- 买卖合同
- 租赁合同
- 借款合同
- 赠与合同

### 服务类合同 (8种)
- 承揽合同、委托合同、中介合同、仓储合同、物业服务合同
- 特许经营合同 ⭐V1.2
- 旅游合同 ⭐V1.2
- 服务合同(通用)

### 公司合同 (4种)
- 股权转让合同
- 增资扩股协议 ⭐V1.1
- 对赌协议 ⭐V1.1
- 一致行动协议 ⭐V1.1

### 金融合同 (3种)
- 担保合同
- 保险合同 ⭐V1.1
- 证券服务合同 ⭐V1.2

### 劳动合同 (3种)
- 劳动合同
- 劳务派遣合同 ⭐V1.1
- 竞业限制协议 ⭐V1.1

### 技术合同 (2种)
- 技术开发合同
- 技术转让合同 ⭐V1.1

### 建设工程合同 (2种)
- 建设工程合同
- 工程监理合同 ⭐V1.2
- 勘察设计合同 ⭐V1.2

### 其他 (2种)
- 合伙合同
- 土地承包合同
- 商品房买卖合同

---

## 📊 版本历史

### V1.2 (2025-01-19) - 重大功能升级 ⭐⭐⭐

- ✅ **三观四步法深度集成**
  - 新增 `sanguan_analysis.py` 模块
  - 宏观+中观+三维度分析
  - 理解→设计→起草→审查四步流程

- ✅ **智能风险评分系统**
  - 新增 `intelligent_scoring.py` 模块
  - 多维度综合评分(0-100)
  - 量化风险等级

- ✅ **深度审核功能**
  - `advanced_review_with_sanguan()` 方法
  - 深度法律审核意见书生成
  - 便捷函数 `advanced_review()`

- ✅ **扩展到30种合同类型**
  - 新增5种: 特许经营、证券服务、工程监理、勘察设计、旅游
  - 新增19个风险点(104→123)

### V1.1 (2025-01-19) - NLP增强 + 数据收集

- ✅ **NLP集成(HanLP)**
- ✅ **扩展到25种合同类型**
- ✅ **数据收集功能**

### V1.0 (2025-01-19) - 基础版本

- ✅ 支持17种合同类型
- ✅ 78个风险点模板
- ✅ 三种审核深度
- ✅ 自动生成法律意见书

---

## 🎓 学习与参考

### 推荐阅读顺序

1. **入门** - 使用 `quick_review()` 审核简单合同
2. **进阶** - 学习三观四步法,使用 `advanced_review()`
3. **高级** - 自定义与扩展,修改CSV数据文件

### 参考书目

本系统深度融合了以下专业著作的方法论:

1. **《合同起草审查指南:三观四步法》** ⭐⭐⭐
   作者: **何力、常金光** 律师
   出版社: 法律出版社
   核心贡献: 三观(宏观、中观、微观) + 四步(理解、设计、起草、审查)方法论

2. **《无讼合同审查核心能力13讲》**
   作者: 无讼学院
   核心贡献: 三维审查法(商业、法律、实务维度)

3. **《合同审核方法论体系》**
   整合了5本专业著作的完整框架

4. **《民法典合同编》** - 各类合同的法律依据
5. **《公司法》** - 公司合同的法律规范

### 特别致谢 🙏

> 本系统的理论框架和方法论主要借鉴了**何力律师、常金光律师**的《合同起草审查指南:三观四步法》以及无讼学院的相关课程。这些专业著作构成了本系统的理论基础,在此向原作者致以最诚挚的感谢!
>
> 同时感谢所有为合同审核理论和实务做出贡献的法学专家、律师和学者们!

---

## ⚠️ 免责声明

1. **仅供参考**: 本系统生成的审核意见由AI基于预设规则生成,不构成正式法律意见
2. **专业咨询**: 对于重大、复杂的交易,建议咨询专业律师
3. **数据更新**: 定期更新CSV数据文件以保持风险库的时效性
4. **系统限制**: 当前版本基于规则引擎,可能存在识别误差

---

## 🤝 贡献与支持

### 问题反馈
- 提交Issue
- 发送邮件

### 数据贡献
欢迎贡献新的合同类型、风险点模板或标准条款!

---

## 📄 开源协议

本项目采用 MIT License 开源协议。

---

## 🌟 致谢

### 开发团队
- **开发者**: Claude (Anthropic AI Assistant)
- **法律专家**: **陈石律师** (浙江海泰律师事务所高级合伙人)
- **版本**: 1.2.0
- **发布日期**: 2025年1月19日

### 特别感谢

**理论指导**:
- **何力律师、常金光律师** - 《合同起草审查指南:三观四步法》⭐
- 无讼学院 - 《无讼合同审查核心能力13讲》
- 各法律专业著作作者

**技术支持**:
- Anthropic Claude 团队
- HanLP NLP库开发团队
- Python开源社区

---

**🎉 让专业合同审核变得简单、高效、智能!**

**Contract Review Pro** - 您的智能合同审核专家 🏛️
